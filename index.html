<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício Interativo</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: auto;
            width: 100%;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        body {
            font-family: 'Roboto', sans-serif;
        }

        .image-table {
            width: 100%;
            max-width: 1200px;
            margin-bottom: 0;
            border-collapse: collapse;
        }

        .image-cell {
            position: relative;
        }

        .image-cell img {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .container {
            width: 80%;
            max-width: 800px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: left;
            position: absolute;
            top: 30%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        h3 {
            color: #2c3e50;
        }

        .exercise-wrapper {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .exercise-container {
            width: 100%;
            margin: 0 auto;
        }

        .phrase {
            font-size: 16px;
            margin-bottom: 20px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .dropbox {
            border: 2px dashed #3498db;
            width: 80px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            display: inline-block;
            font-weight: bold;
            color: #3498db;
            margin: 0 5px;
            font-size: 14px;
            position: relative; /* Para facilitar a colocação do X */
        }

        .options-container {
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        .highlight {
            color: red;
            text-decoration: underline;
        }

        .option {
            margin: 8px;
            padding: 8px;
            background-color: #3498db;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
        }

        .option:hover {
            background-color: #2980b9;
        }

        .correct {
            background-color: #90ee90 !important;
        }

        .incorrect {
            background-color: #f08080 !important;
            position: relative;
        }

        .incorrect .remove-btn {
            position: absolute;
            right: -5px; /* Ajustado para que o X não fique cortado */
            top: 2px; /* Ajustado para que o X fique visível */
            background-color: #fff;
            border: 1px solid #f08080;
            color: #f08080;
            border-radius: 50%;
            cursor: pointer;
            width: 15px; /* Mantido pequeno */
            height: 15px; /* Mantido pequeno */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 10px; /* Reduzido o tamanho da fonte */
        }

        .remove-btn:hover {
            background-color: #f08080;
            color: #fff;
        }
    </style>
</head>
<body>

<table class="image-table">
    <tr>
        <td class="image-cell">
            <img src="SEB-Word-with-logo.jpg" alt="Imagem de Fundo"> <!-- Substitua pela URL da sua imagem -->
        </td>
    </tr>
</table>

<div class="container">
    <h3>Understanding and using English phrasal verbs will help you improve your fluency. This exercise is designed for that purpose. 
        “Drag and drop” the correct word (some of these sentences require two separate words) to complete every sentence. 
        <span class="highlight">Don’t worry if you select the wrong word(s)!</span> This exercise will immediately let you know if your chose the correct or incorrect words. 
        If you chose incorrectly, you will be able to reselect. The meaning of the needed phrasal verbs is in parentheses beside the empty box.
        </h3>

    <div id="exercise-wrapper">
        <!-- Exercícios serão gerados aqui -->
    </div>
</div>

<script>
    const exercises = [
        { phrase: "O carro é ____.", answers: ["rápido"] },
        { phrase: "A casa é ____.", answers: ["bonita"] },
        { phrase: "O gato está ____ e quer ____ mais.", answers: ["grande", "comer"] },
    ];

    let allOptions = exercises.flatMap(ex => ex.answers);
    allOptions = allOptions.sort(() => Math.random() - 0.5);

    function generateExercises() {
        const exerciseWrapper = document.getElementById('exercise-wrapper');
        exerciseWrapper.innerHTML = '';

        const exerciseContainer = document.createElement('div');
        exerciseContainer.className = 'exercise-container';

        exercises.forEach((exercise, index) => {
            let phraseHTML = exercise.phrase;
            exercise.answers.forEach((answer, i) => {
                phraseHTML = phraseHTML.replace('____', `<span class="dropbox" ondrop="drop(event, '${answer}')" ondragover="allowDrop(event)" id="dropbox${index}_${i}"></span>`);
            });

            const phraseDiv = document.createElement('div');
            phraseDiv.className = 'phrase';
            phraseDiv.innerHTML = phraseHTML;
            exerciseContainer.appendChild(phraseDiv);
        });

        const optionsContainer = document.createElement('div');
        optionsContainer.className = 'options-container';

        allOptions.forEach((option, i) => {
            const span = document.createElement('span');
            span.className = 'option';
            span.textContent = option;
            span.draggable = true;
            span.id = `option${i}`;
            span.ondragstart = drag;
            optionsContainer.appendChild(span);
        });

        const wrapper = document.createElement('div');
        wrapper.className = 'exercise-wrapper';
        wrapper.appendChild(exerciseContainer);
        wrapper.appendChild(optionsContainer);

        exerciseWrapper.appendChild(wrapper);
    }

    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev, correctAnswer) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        var selectedOption = document.getElementById(data).textContent;
        var dropbox = ev.target;

        if (selectedOption === correctAnswer) {
            dropbox.textContent = selectedOption;
            dropbox.className = 'dropbox correct';
            document.getElementById(data).remove(); // Remove a opção correta da lista
        } else {
            dropbox.textContent = selectedOption;
            dropbox.className = 'dropbox incorrect';
            document.getElementById(data).remove(); // Remove a opção incorreta também
            const removeBtn = document.createElement('span');
            removeBtn.className = 'remove-btn';
            removeBtn.innerHTML = 'X';
            removeBtn.onclick = function() {
                dropbox.textContent = '____';
                dropbox.className = 'dropbox';
                const optionSpan = document.createElement('span');
                optionSpan.className = 'option';
                optionSpan.textContent = selectedOption;
                optionSpan.draggable = true;
                optionSpan.id = data;
                optionSpan.ondragstart = drag;
                document.querySelector('.options-container').appendChild(optionSpan);
                dropbox.removeChild(removeBtn);
            };
            dropbox.appendChild(removeBtn);
        }
    }

    generateExercises();
</script>

</body>
</html>
